<head>
    <title>Update</title>
    <link rel="stylesheet" href="css/style.css">
    <style>
      body {
        font-family: Arial, sans-serif;
      }
  
      h1 {
        color: #333;
      }
  
      button {
        background-color: #4CAF50;
        color: white;
        padding: 10px 20px;
        border: none;
        cursor: pointer;
      }
  
      ul {
        list-style-type: none;
        padding: 0;
      }
  
      li {
        margin-bottom: 10px;
        border: 1px solid #ccc;
        padding: 10px;
      }
  
      form {
        margin-bottom: 20px;
      }
  
      label {
        display: block;
        margin-bottom: 5px;
      }
  
      input[type="text"],
      input[type="number"],
      input[type="email"],
      input[type="password"] {
        padding: 5px;
        width: 200px;
      }
  
      button[type="submit"] {
        background-color: #4CAF50;
        color: white;
        padding: 5px 10px;
        border: none;
        cursor: pointer;
      }
    </style>
</head>
<body><h2>Update Admin</h2>
    <form onsubmit="event.preventDefault(); updateAdmin()">
      <label for="adminId">Admin ID:</label>
      <input type="number" id="adminId" required>
      <br>
      <label for="UserName">Username:</label>
      <input type="text" id="UserName" required>
      <br>
      <label for="UserEmail">Email:</label>
      <input type="email" id="UserEmail" required>
      <br>
      <label for="UserPassword">Password:</label>
      <input type="password" id="UserPassword" required>
      <br>
      <label for="Contact">Contact:</label>
      <input type="text" id="Contact" required>
      <br>
      <label for="Role">Role:</label>
      <input type="text" id="Role" required>
      <br>
      <label for="Status">Status:</label>
      <input type="text" id="Status" required>
      <br>
      <label for="Description">Description:</label>
      <input type="text" id="Description" required>
      <br>
      <label for="MobileNumber">Mobile Number:</label>
      <input type="number" id="MobileNumber" required>
      <br>
      <button type="submit">Update Admin</button>
    </form>
    
    <script>
      function updateAdmin() {
        const adminId = document.getElementById('adminId').value;
        const UserName = document.getElementById('UserName').value;
        const UserEmail = document.getElementById('UserEmail').value;
        const UserPassword = document.getElementById('UserPassword').value;
        const Contact = document.getElementById('Contact').value;
        const Role = document.getElementById('Role').value;
        const Status = document.getElementById('Status').value;
        const Description = document.getElementById('Description').value;
        const MobileNumber = document.getElementById('MobileNumber').value;
    
        const data = {
          UserName,
          UserEmail,
          UserPassword,
          Contact,
          Role,
          Status,
          Description,
          MobileNumber
        };
    
        fetch(`http://localhost:30022/user/${adminId}`, {
          method: 'PUT',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify(data)
        })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              alert('Admin updated successfully.');
              // Redirect to the admin dashboard page
              window.location.href = '/admin/dashboard';
            } else {
              alert('Failed to update admin.');
            }
          })
          .catch(error => {
            console.error(error);
            alert('An error occurred while updating admin.');
          });
      }
    </script>
    </body>
</head>